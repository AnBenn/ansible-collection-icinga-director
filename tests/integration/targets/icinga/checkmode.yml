---
- name: run tasks in check mode
  hosts: testhost
  tasks:
    - include_tasks: "{{ item }}"
      loop:
        - tasks/failed_tests.yml
        - tasks/icinga_command_template.yml
        - tasks/icinga_command.yml
        - tasks/icinga_timeperiod.yml
        - tasks/icinga_user_template.yml
        - tasks/icinga_user.yml
        # TODO: create notification template module
        # - tasks/icinga_notification.yml
        - tasks/icinga_hostgroup.yml
        - tasks/icinga_servicegroup.yml
        - tasks/icinga_service_template.yml
        - tasks/icinga_service_apply.yml
        - tasks/icinga_hostgroup.yml
        - tasks/icinga_host_template.yml
        - tasks/icinga_host.yml

        - tasks/absent_icinga_host_template.yml
        - tasks/absent_icinga_hostgroup.yml
        - tasks/absent_icinga_service_apply.yml
        - tasks/absent_icinga_service_template.yml
        - tasks/absent_icinga_servicegroup.yml
        - tasks/absent_icinga_hostgroup.yml
        # TODO: create notification template module
        # - tasks/absent_icinga_notification.yml
        - tasks/absent_icinga_user.yml
        - tasks/absent_icinga_user_template.yml
        - tasks/absent_icinga_timeperiod.yml
        - tasks/absent_icinga_command.yml
        - tasks/absent_icinga_command_template.yml
